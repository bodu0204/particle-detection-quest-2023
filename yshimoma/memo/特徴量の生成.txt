
waferMapの特徴量の生成
基本統計量:
各 waferMap に対して、ピクセルの基本統計量（平均、標準偏差、中央値、最小値、最大値など）を計算します。

画像テクスチャ特徴量:
テクスチャ解析を行い、コントラスト、相関、エネルギー、ホモジェネイティなどの特徴量を計算することができます。

形状特徴量:
エッジ検出やコンター解析を行い、形状に関する特徴量（面積、周囲長、複雑さ、方向性など）を抽出します。

フーリエ変換:
waferMap のフーリエ変換を計算し、周波数領域での特徴量を抽出することが可能です。

畳み込み特徴量:
事前訓練されたCNNを使用して waferMap から高レベルの特徴量を抽出することができます（転移学習）。
機械学習アルゴリズムの選択

ランダムフォレスト:
分類問題によく使用され、特徴量の重要度を評価することができます。

勾配ブースティングマシン（GBM）:
XGBoostやLightGBMなどのアルゴリズムが高い予測性能を提供します。

サポートベクターマシン（SVM）:
マージン最大化に基づく強力な分類アルゴリズムです。

ニューラルネットワーク:
データ量が十分に多い場合、特に畳み込みニューラルネットワーク（CNN）が画像分類問題に適しています。

K近傍法（KNN）:
シンプルで効果的なアルゴリズムで、少ないパラメータで実行できます。

プログラムの作成
特徴量生成のためのコードを書き、各 waferMap から特徴量を計算します。
得られた特徴量セットを使用して、機械学習モデルを訓練します。
モデルの性能を評価するために、クロスバリデーションや他の評価指標（精度、再現率、F1スコアなど）を用います。
ハイパーパラメータチューニングを行い、最適なパラメータでモデルを微調整します。



▪️ waferMap以外の特徴量

waferMapが予測のための主要な情報源である場合、特に画像データからの特徴量がターゲット変数
（ここではfailureType）と強く関連していると思われる場合、最初はwaferMapに焦点を当てて
特徴量を生成するのが合理的です。

ただし、他の変数も予測に役立つ情報を含んでいる可能性があるため、無視する前にその有用性を評価することをお勧めします。
以下は各変数の潜在的な利用方法です：

dieSize: ウェハのサイズは欠陥の種類に関連している可能性があります。
例えば、大きなウェハでは特定の欠陥がより頻繁に発生するかもしれません。
これは数値特徴量として直接モデルに含めることができます。

lotName: 異なるロットからのウェハが異なる欠陥のパターンを示すかもしれません。
もしこのような傾向があるならば、ロット名を基にした特徴量（例えば、ロットごとの欠陥率など）が
役立つかもしれません。ただし、これはカテゴリ変数であるため、適切にエンコードする必要があります
（例：ワンホットエンコーディング）。

waferIndex: ウェハの位置がロット内での欠陥の発生に影響を与える可能性があります。
あるインデックスのウェハが欠陥を持つ確率が高いなどのパターンがあれば、これも有用な特徴量になり得ます。

failureType: これはターゲット変数であり、モデルの予測を行うための出力です。訓練時にはこの値を予測し、
テスト時にはこの値を予測するようにモデルを評価します。

dieSizeやwaferIndexは数値データとして直接モデルに組み込むことができますが、
lotNameのようなカテゴリ変数は、適切な数値表現に変換する必要があります。
データの前処理として、カテゴリ変数を扱うためにラベルエンコーディングやワンホットエンコーディングを
検討する必要があります。

最終的には、これらの追加変数がモデルの性能を向上させるかどうかは、
実際に試してみることによってのみ確かめることができます。
したがって、フィーチャーエンジニアリングの一環として、これらの変数から派生した特徴量を作成し、
クロスバリデーションを通じてモデルの性能が向上するかどうかを評価することをお勧めします。


